<app-navbar></app-navbar>

<main>
  <app-sidebar></app-sidebar>
  <section class="middle">
    <div class="recent-orders">
      <div class="header">
        <h1>Recent Orders</h1>
      </div>
      <table>
        <thead>
        <tr>
          <th></th>
          <th>Category</th>
          <th>Transaction ID</th>
          <th>Amount</th>
          <th>Card</th>
          <th>Date</th>
          <th>Status</th>
          <th></th>
        </tr>
        </thead>

        <tbody>
        <tr *ngFor="let transaction of transactions" class="transaction">
          <td>
            <div [ngClass]="transaction.iconClass">
              <mat-icon class="material-icons-sharp">{{ transaction.iconName }}</mat-icon>
            </div>
          </td>
          <td>{{ transaction.category }}</td>
          <td>{{ transaction.trxId }}</td>
          <td>{{ transaction.amount }}</td>
          <td>
            <div class="card-details">
              <div
                [ngClass]="transaction.cardType === 'ADA' ? 'card bg-primary' : (transaction.cardType === 'BTC' ? 'card bg-danger' : 'card bg-dark')">
                <img [src]="transaction.cardImageSrc">
              </div>
              <div class="details">
                <p>{{ transaction.cardNumber }}</p>
                <small class="text-muted">{{ transaction.cardName }}</small>
              </div>
            </div>
          </td>
          <td>{{ transaction.date }}</td>
          <td
            [ngClass]="transaction.status === 'Complete' ? 'status-complete' : (transaction.status === 'Pending' ? 'status-pending' : 'status-canceled')">{{ transaction.status }}</td>
          <td class="details">{{ transaction.details }}</td>
        </tr>
        </tbody>

      </table>
      <a href="/transactions">Show All</a>
    </div>
  </section>

  <section class="right">
    <div class="header">
      <h2>Cards</h2>
    </div>
    <div class="cards">
      <div class="card" *ngFor="let card of cards">
        <div class="top">
          <div class="left">
            <img [src]="card.imageSrc">
            <h2>{{ card.name }}</h2>
          </div>
          <img [src]="card.cardImageSrc" class="right">
        </div>
        <div class="middle">
          <h1>${{(card.amount / 1000).toFixed(3)}}</h1>
          <div class="chip">
            <img src="./assets/card%20chip.png">
          </div>
        </div>
        <div class="bottom">
          <div class="left">
            <small>Card Holder</small>
            <h5>{{ card.cardHolder }}</h5>
          </div>
          <div class="right">
            <div class="expiry">
              <small>Expiry</small>
              <h5>{{ card.expiry }}</h5>
            </div>
            <div class="cvv">
              <small>CVV</small>
              <h5>{{ card.cvv }}</h5>
            </div>
          </div>
        </div>
      </div>
      <!-- END CARD -->
    </div>
    <!-- END CARDS -->

  </section>
</main>

